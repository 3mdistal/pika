{
  "$schema": "../../../schema.schema.json",
  "version": 2,
  "types": {
    "objective": {
      "output_dir": "Objectives",
      "fields": {
        "type": { "value": "objective" }
      },
      "field_order": ["type"]
    },
    "task": {
      "extends": "objective",
      "output_dir": "Objectives/Tasks",
      "fields": {
        "type": { "value": "task" },
        "status": {
          "prompt": "select",
          "options": ["raw", "backlog", "in-flight", "settled"],
          "default": "backlog",
          "required": true
        },
        "milestone": {
          "prompt": "relation",
          "source": "milestone",
          "filter": { "status": { "not_in": ["settled"] } },
          "format": "quoted-wikilink"
        },
        "creation-date": { "value": "$NOW" },
        "deadline": { "prompt": "text", "label": "Deadline (YYYY-MM-DD)" },
        "tags": {
          "prompt": "list",
          "list_format": "yaml-array",
          "default": []
        }
      },
      "field_order": ["type", "status", "milestone", "creation-date", "deadline", "tags"],
      "body_sections": [
        {
          "title": "Steps",
          "level": 2,
          "content_type": "checkboxes",
          "prompt": "list",
          "prompt_label": "Steps"
        },
        {
          "title": "Notes",
          "level": 2,
          "content_type": "paragraphs"
        }
      ]
    },
    "milestone": {
      "extends": "objective",
      "output_dir": "Objectives/Milestones",
      "fields": {
        "type": { "value": "milestone" },
        "status": {
          "prompt": "select",
          "options": ["raw", "backlog", "in-flight", "settled"],
          "default": "raw",
          "required": true
        }
      },
      "field_order": ["type", "status"],
      "body_sections": [
        {
          "title": "Tasks",
          "level": 2,
          "content_type": "none"
        }
      ]
    },
    "idea": {
      "output_dir": "Ideas",
      "fields": {
        "type": { "value": "idea" },
        "status": {
          "prompt": "select",
          "options": ["raw", "backlog", "in-flight", "settled"],
          "default": "raw",
          "required": true
        },
        "priority": { "prompt": "select", "options": ["low", "medium", "high"] },
        "labels": {
          "prompt": "select",
          "options": ["urgent", "blocked", "review", "wip"],
          "multiple": true
        }
      },
      "field_order": ["type", "status", "priority", "labels"]
    },
    "project": {
      "output_dir": "Projects",
      "fields": {
        "type": { "value": "project" },
        "status": {
          "prompt": "select",
          "options": ["raw", "backlog", "in-flight", "settled"],
          "default": "raw",
          "required": true
        },
        "research": {
          "prompt": "relation",
          "source": "research",
          "owned": true
        }
      },
      "field_order": ["type", "status", "research"]
    },
    "research": {
      "output_dir": "Research",
      "fields": {
        "type": { "value": "research" },
        "status": {
          "prompt": "select",
          "options": ["raw", "backlog", "in-flight", "settled"],
          "default": "raw",
          "required": true
        }
      },
      "field_order": ["type", "status"]
    },
    "entity": {
      "output_dir": "Entities",
      "fields": {
        "type": { "value": "entity" }
      },
      "field_order": ["type"]
    },
    "person": {
      "extends": "entity",
      "output_dir": "Entities/People",
      "fields": {
        "type": { "value": "person" }
      },
      "field_order": ["type"],
      "body_sections": []
    }
  },
  "audit": {
    "ignored_directories": ["Templates"]
  }
}
